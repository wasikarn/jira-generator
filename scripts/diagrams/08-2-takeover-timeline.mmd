flowchart LR
    subgraph BEFORE["07:50-08:00 Normal Schedule"]
        direction TB
        B1["P2: Campaign Ad A (15s)"]
        B2["P4: House Ad (10s)"]
        B3["P2: Campaign Ad B (15s)"]
        B1 e3@--> B2 e4@--> B3
    end
    subgraph TK["08:00-09:00 TAKEOVER BLOCK"]
        direction TB
        T1["P1-TK: TK Creative (30s)"]
        T2["P1-TK: TK Creative (30s)"]
        T3["P1-TK: ... loop x120"]
        T1 e5@--> T2 e6@--> T3
    end
    subgraph AFTER["09:00-09:10 Resume + Make-Good"]
        direction TB
        A1["‚≠ê Make-good: Ad A<br/>(interrupted at 08:00)"]
        A2["P2: Campaign Ad C (15s)"]
        A3["P4: House Ad (10s)"]
        A1 e7@--> A2 e8@--> A3
    end
    BEFORE e1@-->|"TK_START<br/>interrupt"| TK
    TK e2@-->|"TK_END<br/>resume"| AFTER
    e1@{ animation: fast }
    e2@{ animation: fast }
    e3@{ animation: fast }
    e4@{ animation: fast }
    e5@{ animation: fast }
    e6@{ animation: fast }
    e7@{ animation: fast }
    e8@{ animation: fast }
    style BEFORE fill:#f0f0f0,stroke:#666
    style TK fill:#ffd700,stroke:#333
    style AFTER fill:#d4edda,stroke:#28a745
    style A1 fill:#fff3cd,stroke:#ffc107
