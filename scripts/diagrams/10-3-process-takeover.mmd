flowchart TD
    A_ADMIN(["Admin<br/>Human"])
    C_APPROVE["ApproveTakeover"]
    AGG_TK["TakeoverSchedule"]
    E_APPROVED["TakeoverApproved"]
    POL_NOTIFY{{"Push TK_START<br/>to Player"}}
    EXT_PUSHER[("Pusher")]
    E_TK_START["TakeoverStartReceived"]

    subgraph PLAYER["Player Side"]
        direction TB
        POL_IC{{"InterruptController:<br/>Pause current ad"}}
        E_INTERRUPTED["AdInterrupted"]
        C_PLAY_TK["PlayTakeoverCreative"]
        E_TK_PLAYED["TakeoverPlayed"]
        POL_RESUME{{"Whenever TK ends<br/>Resume normal sequence"}}
        E_RESUMED["PlaybackResumed"]
    end

    POL_MG{{"Whenever AdInterrupted<br/>Schedule Make-Good"}}
    AGG_MG["MakeGoodRecord"]
    E_MG["MakeGoodScheduled"]
    POL_NEXT{{"Include in<br/>next schedule build"}}

    A_ADMIN e3@--> C_APPROVE
    C_APPROVE e4@--> AGG_TK
    AGG_TK e5@--> E_APPROVED
    E_APPROVED e6@--> POL_NOTIFY
    POL_NOTIFY e7@--> EXT_PUSHER
    EXT_PUSHER e1@--> E_TK_START
    E_TK_START e8@--> POL_IC
    POL_IC e9@--> E_INTERRUPTED
    E_INTERRUPTED e10@--> C_PLAY_TK
    C_PLAY_TK e11@--> E_TK_PLAYED
    E_TK_PLAYED e12@--> POL_RESUME
    POL_RESUME e13@--> E_RESUMED

    E_INTERRUPTED e2@--> POL_MG
    POL_MG e14@--> AGG_MG
    AGG_MG e15@--> E_MG
    E_MG e16@--> POL_NEXT
    e1@{ animation: slow }
    e2@{ animation: fast }
    e3@{ animation: fast }
    e4@{ animation: fast }
    e5@{ animation: fast }
    e6@{ animation: fast }
    e7@{ animation: slow }
    e8@{ animation: fast }
    e9@{ animation: fast }
    e10@{ animation: fast }
    e11@{ animation: fast }
    e12@{ animation: fast }
    e13@{ animation: fast }
    e14@{ animation: fast }
    e15@{ animation: fast }
    e16@{ animation: fast }

    %% Player subgraph
