{
  "enabledMcpjsonServers": [
    "jira-cache-server"
  ],
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/adf-structure-validator.py",
            "timeout": 10
          },
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/event-ac-checker.py",
            "timeout": 5
          },
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/hr1-qg-before-write.py",
            "timeout": 10
          }
        ]
      },
      {
        "matcher": "mcp__mcp-atlassian__jira_update_issue",
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/hr3-block-mcp-assignee.py",
            "timeout": 5
          },
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/hr10-subtask-sprint-guard.py",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "mcp__mcp-atlassian__jira_search",
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/hr2-jql-order-by-guard.py",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "mcp__mcp-atlassian__confluence_update_page",
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/hr4-confluence-macro-guard.py",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "mcp__jira-cache-server__cache_get_issue",
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/hr6-read-guard.py",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "mcp__mcp-atlassian__jira_create_issue",
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/hr5-parent-verify-blocker.py",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "mcp__mcp-atlassian__jira_create_issue|mcp__mcp-atlassian__jira_update_issue",
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/hr7-sprint-id-guard.py",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "mcp__mcp-atlassian__jira_get_issue|mcp__mcp-atlassian__jira_search",
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/field-preset-guard.py",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "mcp__mcp-atlassian__jira_get_issue",
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/cache-prefer.py",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "Glob|Grep",
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/qmd-auto-search.py",
            "timeout": 10
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "mcp__mcp-atlassian__jira_create_issue",
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/hr5-verify-parent-reminder.py",
            "timeout": 5
          },
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/search-before-create.py",
            "timeout": 5
          },
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/workflow-chain-suggest.py",
            "timeout": 5
          },
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/vs-integrity-tracker.py",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "mcp__mcp-atlassian__jira_create_issue|mcp__mcp-atlassian__jira_update_issue|mcp__mcp-atlassian__jira_transition_issue|mcp__mcp-atlassian__jira_create_issue_link|mcp__mcp-atlassian__jira_remove_issue_link|mcp__mcp-atlassian__jira_create_remote_issue_link|mcp__mcp-atlassian__jira_add_comment|mcp__mcp-atlassian__jira_add_worklog|mcp__mcp-atlassian__jira_delete_issue|mcp__mcp-atlassian__jira_link_to_epic",
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/hr6-cache-invalidate.py",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "mcp__mcp-atlassian__jira_search",
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/search-tracker.py",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "mcp__mcp-atlassian__jira_get_sprints_from_board",
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/hr7-sprint-lookup-tracker.py",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "mcp__jira-cache-server__cache_invalidate",
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/hr6-invalidate-clear.py",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "mcp__mcp-atlassian__jira_search|mcp__mcp-atlassian__jira_get_sprint_issues|mcp__mcp-atlassian__jira_get_project_issues|mcp__mcp-atlassian__jira_get_board_issues|mcp__mcp-atlassian__jira_get_issue|mcp__jira-cache-server__cache_search|mcp__jira-cache-server__cache_sprint_issues",
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/auto-parse-large-output.py",
            "timeout": 15
          }
        ]
      },
      {
        "matcher": "mcp__jira-cache-server__cache_sprint_issues|mcp__mcp-atlassian__jira_get_sprint_issues",
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/subtask-alignment-suggest.py",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "mcp__mcp-atlassian__jira_get_issue|mcp__mcp-atlassian__jira_search",
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/cache-suggest.py",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "mcp__mcp-atlassian__jira_get_issue",
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/hr5-parent-verify-clear.py",
            "timeout": 5
          },
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/event-model-tracker.py",
            "timeout": 5
          },
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/vs-integrity-tracker.py",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "mcp__jira-cache-server__cache_get_issue",
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/cache-checked-tracker.py",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "Task",
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/explore-fallback-suggest.py",
            "timeout": 10
          }
        ]
      },
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/auto-verify-suggest.py",
            "timeout": 5
          },
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/hr6-acli-cache-invalidate.py",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "mcp__qmd__search|mcp__qmd__vector_search|mcp__qmd__deep_search|mcp__qmd__get|mcp__qmd__multi_get",
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/qmd-usage-tracker.py",
            "timeout": 5
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/hr6-stop-check.py",
            "timeout": 10
          },
          {
            "type": "prompt",
            "prompt": "You are a task completion verifier for a Jira automation system. Check the conversation for incomplete work. Specifically check: (1) If a Jira issue was created or updated via MCP (jira_create_issue, jira_update_issue, jira_transition_issue, jira_create_issue_link, jira_create_remote_issue_link), was cache_invalidate called afterward? NOTE: Confluence page operations (confluence_create_page, confluence_update_page, or Python scripts like fix_confluence_code_blocks.py, create_confluence_page.py, update_page_storage.py) do NOT require cache_invalidate — there is no Confluence cache server. (2) If a subtask was created, was the parent verified with jira_get_issue? (3) If the user invoked a skill (/story-full, /analyze-story, /plan-sprint, etc.), did all phases complete? (4) If there are pending operations mentioned in the conversation, are they resolved? If everything looks complete OR if this is just a simple Q&A response (not a Jira workflow), respond {\"ok\": true}. If critical steps were skipped, respond {\"ok\": false, \"reason\": \"specific step that was missed\"}. Be conservative — only block if you are confident a critical step was skipped.",
            "timeout": 30
          }
        ]
      }
    ],
    "SessionStart": [
      {
        "matcher": "compact",
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/post-compact-reinject.py",
            "timeout": 10
          }
        ]
      }
    ],
    "PreCompact": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "python3 \"$CLAUDE_PROJECT_DIR\"/.claude/hooks/pre-compact-save.py",
            "timeout": 10
          }
        ]
      }
    ]
  }
}
